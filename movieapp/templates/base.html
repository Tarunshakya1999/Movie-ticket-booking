{% load static %}
{% block main %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie Ticket Booking | {% block title %}{% endblock title %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'app/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'app/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'app/css/stylesheet.css' %}">
    <!-- jQuery (Load First) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Owl Carousel Script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <style>
      /* General Styles */
body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    width: 100%; /* Ensure full width */
}

.container-fluid {
    padding-left: 0;
    padding-right: 0;
}

/* Navbar Styles */
.navbar {
    background-color: #222;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    width: 100%; /* Ensure navbar takes full width */
    z-index: 1000; /* Ensure navbar stays on top */
    position: fixed; /*
    top: 0;
  
}

.navbar .navbar-nav .nav-item {
    margin-left: 20px;
    
    
}

.navbar .nav-link {
    font-size: 18px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #fff;
    padding: 12px 20px;
    border-radius: 5px;
    transition: all 0.3s ease;
}

/* Hover Effect on Links */
.navbar .nav-link:hover {
    color: #f39c12;
    transform: scale(1.1);
    background-color: rgba(255, 255, 255, 0.1);
}

/* Navbar Logo Animation */
.navbar .navbar-brand img {
    width: 70px;
    height: 70px;
    transition: transform 0.3s ease;
}

.navbar .navbar-brand:hover img {
    transform: rotate(360deg);
}

/* Search Bar Styles */
#searchForm {
    display: flex;
    align-items: center;
}

#searchInput {
    width: 250px;
    padding: 10px;
    border-radius: 25px;
    border: 1px solid #ddd;
    transition: all 0.3s ease;
}

#searchInput:focus {
    outline: none;
    border-color: #f39c12;
    transform: scale(1.05);
}

#searchBtn {
    background-color: #f39c12;
    border: none;
    color: white;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
}

#searchBtn:hover {
    background-color: #e67e22;
    transform: scale(1.05);
}

/* Responsive Navbar */
@media (max-width: 768px) {
    .navbar-nav {
        text-align: center;
        margin-top: 10px;
      
    }

    .navbar .nav-link {
        margin-top: 10px;
        width: 100%;
    }

    #searchForm {
        margin-top: 15px;
        justify-content: center;
    }

    #searchInput {
        width: 200px;
    }
}


/* ticket */

.container {
    width: 100%;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 5px;
}
.btn {
    display: block;
    margin: auto;
    width: 100%;
}

    </style>
  </head>
  <body>
    <div class="container-fluid"> 
      <div class="row">
        <div class="col-12">
          <!-- Navbar -->
          <nav class="navbar navbar-expand-lg navbar-dark bg-dark w-100"> 
            <a class="navbar-brand" href="{% url "home" %}">
                <img src="{% static 'app/images/cinema.png' %}" alt="logo" class="img-fluid" style="width: 70px; height: 70px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link fs-5" href="{% url 'home' %}">HOME <i class="fa-regular fa-house"></i></a></li>
                <li class="nav-item"><a class="nav-link fs-5" href="{% url 'about' %}">ABOUT</a></li>
                <li class="nav-item"><a class="nav-link fs-5" href="{% url 'contact' %}">CONTACT</a></li>
                <li class="nav-item"><a class="nav-link fs-5" href="{% url 'services' %}">SERVICES</a></li>

                <!-- Dropdown Menu for Logged-in Users -->
                {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                  <h3 class="nav-link dropdown-toggle fs-5"id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Welcome,<span style="color:aqua;"> {{ user.username }}</span>
                  </h3>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    {% if user.is_staff %}
                    <li><a class="dropdown-item" href="{% url 'ticket_details' %}">Ticket Details</a></li>
                    {% endif %}
                    <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                  </ul>
                </li>
                {% else %}
                <!-- Dropdown for Guests -->
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle fs-5" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Login
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="{% url 'login' %}">Login</a></li>
                  </ul>
                </li>
                {% endif %}
              </ul>
              <!-- Search Bar -->
              <form class="d-flex ms-3" method="post" id="searchForm">
                {% csrf_token %}
                <input class="form-control me-2" type="search" name="query" id="searchInput" placeholder="Search Movies..." aria-label="Search">
                <button class="btn btn-warning" type="submit" id="searchBtn">Search</button>
              </form>
            </div>
          </nav>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="{% static 'app/js/all.min.js' %}"></script>
    <script src="{% static 'app/js/myscript.js' %}"></script>
    <script src="{% static 'app/js/owl.carousel.min.js' %}"></script>
  
    <br><br> <br> <br>
    {% block tarun %}{% endblock tarun %}
  </body>
</html>
{% endblock main %}
